#ifdef __sw_slave__
#include <simd.h>
#include <math.h>
#include <slave.h>
#include "math_sunway.hpp"
#define DVEC(x) {.v={x,x,x,x,x,x,x,x}}
#define LVEC(x) {.iv = {x,x,x,x,x,x,x,x}}

__ldm struct vmath_world_t vmworld = {
  .log2      = DVEC(0.69314718055994529),
  .log2inv   = DVEC(1.4426950408889634),
  .f1_0      = DVEC(1.0),
  .f0_5      = DVEC(0.5),
  .f2_0      = DVEC(2.0),
  .f6_0      = DVEC(6.0),
  .l1023     = LVEC(1023L),
  .inf       = DVEC(INFINITY),
  .nan       = DVEC(NAN),
  .sqrt2     = DVEC(1.4142135623730951455),
  .invsqrt2  = DVEC(0.7071067811865476),
  .f2pi      = DVEC(3.1415926535897931 * 2),
  .f2piinv   = DVEC(0.31830988618379069 * 0.5),
  .exp_over  = DVEC(709.78271114955742909217217426),
  .exp_under = DVEC(-1000),
  .c_exp     = {
    DVEC(2.76326406755857171304e-06),
    DVEC(2.48844597517226009909e-05),
    DVEC(1.98411906475434084108e-04),
    DVEC(1.38888017496566077216e-03),
    DVEC(8.33333336731160480293e-03),
    DVEC(4.16666670405519065645e-02),
    DVEC(1.66666666666156482179e-01),
    DVEC(4.99999999994385879720e-01),
    DVEC(1.00000000000000133227e+00),
    DVEC(1.00000000000001354472e+00),
  },
  .c_log    = {
    DVEC(-0.011134482600201842453),
    DVEC(0.040048848263949089754),
    DVEC(-0.074682876277970711154),
    DVEC(0.10232811426017060508),
    DVEC(-0.12288665570765851254),
    DVEC(0.1425082671673250645),
    DVEC(-0.16662808260668404703),
    DVEC(0.19999726264696326972),
    DVEC(-0.24999988443124751547),
    DVEC(0.33333333079566740409),
    DVEC(-0.4999999999780528892),
    DVEC(0.99999999999996846967),
  },
  .c_sin    = {
    DVEC(2.468016031882836389e-15),
    DVEC(-7.5849022757496554754e-13),
    DVEC(1.6052892947117728533e-10),
    DVEC(-2.5051752723618653973e-08),
    DVEC(2.755730711717133515e-06),
    DVEC(-0.00019841269609467874851),
    DVEC(0.0083333333311081531081),
    DVEC(-0.16666666666584373235),
    DVEC(0.99999999999994981792),
  },
  .c_cos    = {
    DVEC(-1.3801346991206583728e-16),
    DVEC(4.7442907973869927177e-14),
    DVEC(-1.1466983675449226702e-11),
    DVEC(2.0876516995984555598e-09),
    DVEC(-2.7557309951381928197e-07),
    DVEC(2.4801587090878958702e-05),
    DVEC(-0.001388888888629322485),
    DVEC(0.041666666666521239015),
    DVEC(-0.49999999999997607469),
  }
};

#endif
